<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% load static %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'styles/quiz.css' %}">
</head>
<body>
    <div id="quiz-container">
        <h2>{{ quiz.title }}</h2>
        <p id="question-number"></p>
        <p id="question-text"></p>
    
        <div id="choices"></div>
    
        <div class="timer-bar" id="timer-bar"></div>
        <p id="timer"></p>
    
        <p id="feedback"></p>
    
        <button id="next-button" onclick="nextQuestion()">Próxima</button>
    </div>
    
    <div id="result">
        <h4>Quiz finalizado!</h4>
        <p>Você acertou <span id="correct-count"></span> de {{ questions|length }} perguntas.</p>
        <a href="{% url 'App_BRASFI:quizzes' %}" class="btn btn-primary">Voltar aos quizzes</a>
    </div>
    
    <!-- JSON seguro para perguntas -->
    {{ questions|json_script:"questions-data" }}
    
    <!-- JSON seguro para tempo -->
    <script id="time-limit" type="application/json">
        {{ time_per_question|default:20 }}
    </script>

    <script type="text/javascript" src="{% static 'scripts/quiz.js' %}"></script>
</body>
</html>