{% extends "layout.html" %}

{% load static %}

{% block title %}
    Videos | BRASFI
{% endblock %}

{% block body %}
    {% if user.userType == "mentor" %}
        <button id="popup-btn" class="btn new-post-btn" onclick="createvideo()">Postar Video</button>
    {% endif %}
    {% if videos %}
    <div class="posts-view">
        {% for video in videos %}
        <div class="post-card">
            <!-- Header: Criador e Data -->
            <div class="post-header">
                <div class="creator-info">
                    <div class="small-profilepic-video" style="background-image: url('/media/{{ video.user.profilePic }}');"></div>
                    <div>
                        <div class="username">{{ video.user.username }}</div>
                        <div class="user-type">{{ video.user.userType }}</div>
                    </div>
                </div>
                <div class="created-at">{{ video.created_at|date:"d M Y · H:i" }}</div>
            </div>
    
            <!-- Vídeo -->
            <video controls class="video-player" src="{{ video.video_file.url }}"></video>
    
            <!-- Título e Descrição -->
            <div class="video-details">
                <h3 class="video-title">{{ video.title }}</h3>
                <p class="video-description">{{ video.description }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% if not videos %}
        <div class="no-videos">Nenhum vídeo encontrado.</div>
    {% endif %}
{% endblock %}